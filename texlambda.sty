\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{texlambda}[2016/03/09 Typesetting for the untyped lambda calculus]

\RequirePackage{suffix}
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{xifthen}
\RequirePackage{etoolbox}

\newcommand\lc[2][]{%
  \PackageError{texlambda}{
    Attempting to use lc command.
  }{
    The correct usage of the lc and lc* commands is with the lambda program
    using the -l flag with the entry point of the latex document. You must
    compile lambda.rkt (distributed with this file) using the command raco exe
    lambda.rkt and then place the executable in your PATH (for example in
    /usr/bin/lambda), after that, the compilation of the document must be with
    the command lambda -l main_file where main_file is the entry point of the
    document (without file extension).
  }
}

\WithSuffix\newcommand\lc*[2][]{
  \PackageError{texlambda}{
    Attempting to use lc* command.
  }{
    The correct usage of the lc and lc* commands is with the lambda program
    using the -l flag with the entry point of the latex document. You must
    compile lambda.rkt (distributed with this file) using the command raco exe
    lambda.rkt and then place the executable in your PATH (for example in
    /usr/bin/lambda), after that, the compilation of the document must be with
    the command lambda -l main_file where main_file is the entry point of the
    document (without file extension).
  }
}

\newcommand{\synteq}{\equiv}

\newcommand{\termlen}[1]{\left\lVert#1\right\rVert}

\newcommand{\contract}[1]{\rightarrow_{#1}}

\newcommand{\reduce}[1]{\twoheadrightarrow_{#1}}

\newcommand{\convertible}[1]{=_{#1}}


\DeclareRobustCommand{\TeXLaMbDa}{
  \TeX-$\mathcal{L\!\!{\scriptstyle A}\!M\!^{B}\!D\!}\boldsymbol{{\scriptstyle \lambda}}$
}
